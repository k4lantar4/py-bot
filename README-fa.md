# سیستم مدیریت اکانت V2Ray

این پروژه یک سیستم مدیریت اکانت V2Ray با ربات تلگرام و داشبورد وب است که امکان فروش و مدیریت اکانت‌های V2Ray را فراهم می‌کند.

## ویژگی‌های اصلی

### ربات تلگرام
- **احراز هویت کاربران**: ثبت‌نام و ورود کاربران
- **مدیریت اکانت‌ها**: مشاهده، ایجاد و تمدید اکانت‌های V2Ray
- **پرداخت‌ها**: پرداخت کارت به کارت و درگاه زرین‌پال
- **پروفایل کاربری**: مشاهده و ویرایش اطلاعات کاربری
- **سیستم اعلان‌ها**: اطلاع‌رسانی انقضای اکانت، مصرف ترافیک و وضعیت پرداخت‌ها
- **پنل مدیریت**: مدیریت کاربران، سرورها، پرداخت‌ها و تنظیمات سیستم

### داشبورد وب
- **پنل کاربری**: مدیریت اکانت‌ها، پرداخت‌ها و پروفایل
- **پنل مدیریت**: مدیریت کاربران، سرورها، پرداخت‌ها و تنظیمات سیستم

### یکپارچه‌سازی با 3x-UI
- **مدیریت اکانت‌ها**: ایجاد و مدیریت اکانت‌ها در پنل‌های 3x-UI
- **نظارت بر ترافیک**: بررسی مصرف ترافیک اکانت‌ها
- **آمار سرور**: نظارت بر وضعیت سرورها

## تغییرات اخیر

### بهبود ربات تلگرام
- **بهبود سیستم پرداخت**: پیاده‌سازی کامل پرداخت کارت به کارت و زرین‌پال
- **مدیریت اکانت‌ها**: بهبود نمایش اکانت‌ها، امکان تمدید و نمایش کانفیگ با QR کد
- **پروفایل کاربری**: امکان ویرایش اطلاعات کاربری و مشاهده تاریخچه تراکنش‌ها
- **پنل مدیریت**: مدیریت کاربران، سرورها، پرداخت‌ها و تنظیمات سیستم
- **سیستم اعلان‌ها**: اطلاع‌رسانی انقضای اکانت، مصرف ترافیک و وضعیت پرداخت‌ها

## نصب و راه‌اندازی

### پیش‌نیازها
- Python 3.8+
- Docker و Docker Compose
- سرور با سیستم‌عامل Ubuntu 22.04

### نصب
1. کلون کردن مخزن:
```bash
git clone https://github.com/username/v2ray-management.git
cd v2ray-management
```

2. اجرای اسکریپت نصب:
```bash
chmod +x install.sh
./install.sh
```

3. تنظیم وبهوک تلگرام:
```bash
python bot/set_webhook.py --token YOUR_BOT_TOKEN --url https://your-domain.com/webhook
```

## توسعه‌دهندگان
برای توسعه و تست محلی، می‌توانید از دستورات زیر استفاده کنید:

1. ایجاد محیط مجازی:
```bash
python -m venv venv
source venv/bin/activate  # در لینوکس
venv\Scripts\activate  # در ویندوز
```

2. نصب وابستگی‌ها:
```bash
pip install -r requirements.txt
```

3. اجرای ربات در حالت پولینگ:
```bash
python bot/polling.py
```

## مستندات بیشتر
برای اطلاعات بیشتر، به فایل‌های زیر مراجعه کنید:
- `docs/user-guide.md`: راهنمای کاربران
- `docs/admin-guide.md`: راهنمای مدیران
- `docs/developer-guide.md`: راهنمای توسعه‌دهندگان 